<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <head>
    <title>CartMvc</title>
    <div th:replace="~{/includes/header :: header}"> </div>
  </head>
  
  


  
  <body> 
    <div class="container mt-3">   
	  <h1>Library</h1>
	  <table class="table">
	    <thead>
	      <tr>
	        <th>Author</th>
	        <th>Title</th>
	        <th>Genre</th>
	        <th>Price</th>
	      </tr> 
	    </thead>
	    <tbody>
		  <tr th:each="book : ${books}">
	        <td th:text="${book.author}"></td>
	        <td th:text="${book.title}"></td>
	        <td th:text="${book.genre}"></td>
	        <td th:text="${book.price}"></td>
	        <td>
				<form th:action="@{/library/{bookid}(bookid=${book.id})}" method="delete">
				    <button style="background-color: coral;" type="submit">cancel</button>
				</form>
			</td>
	      </tr>
	      
	    </tbody>
	  </table>
	  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#libModal">
	  	Add Book
	  </button>
	</div>
	
	
	<!-- The Modal -->
	<div class="modal" id="libModal">
	  <div class="modal-dialog">
	    <div class="modal-content">
	
	      <!-- Modal Header -->
	      <div class="modal-header">
	        <h4 class="modal-title">Book: </h4>
	      </div>
	
	
	      <div class="modal-body">
			<form method="POST" th:action="@{/library}" th:object="${book}">
		        <input type="text" name="author" placeholder="Author" />
		        <input type="text" name="title" placeholder="Title" />
		        <input type="text" name="genre" placeholder="Genre" />
		        <input type="number" name="price" placeholder="Price" />
		        <input type="submit" value="Submit" />
	        </form>
	      </div>
	
	    </div>
	  </div>
	</div>
	

  </body>
  <div th:replace="~{/includes/footer :: footer}"> </div>    

</html>